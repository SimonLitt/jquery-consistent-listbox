<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>jQuery consistent listbox - Insert, delete</title>

		<!-- need to include jQuery -->
		<script src="https://code.jquery.com/jquery-3.7.1.min.js" type="text/javascript" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://code.jquery.com/ui/1.14.1/jquery-ui.min.js" type="text/javascript" integrity="sha256-AlTido85uXPlSyyaZNsjJXeCs07eSv3r43kyCVc8ChI=" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<link href="https://code.jquery.com/ui/1.14.1/themes/cupertino/jquery-ui.css" type="text/css" rel="stylesheet" media="screen"  integrity="sha256-1Lhp59o6Lo17agNDv7pxRJSu6j1iExUKwHp/P2I19hQ=" crossorigin="anonymous" referrerpolicy="no-referrer"/>

		<!-- include the plugin and default stylesheet -->
		<script src="../listbox.js" type="text/javascript"></script>
		<link href="../upload/listbox.min.css" type="text/css" rel="stylesheet"/>

		<link href="example.css" type="text/css" rel="stylesheet"/>

		<style>
		</style>
	</head>
<body>
	<form id="lb-form">
		<div class="float-l">
			Singleselect listbox:
			<div id="user_listbox" class="sl-listbox sl-h-20"></div>
		</div>
		<div class="float-l ml-1">
			Other examples:
			<ul>
				<li><a href="1-quick_start.html">Demo example</a>
				<li><a href="2-insert-delete.html">Item manipulations</a>
				<li><a href="3-user_data.html">User data</a>
				<li><a href="4-extended_user_data.html">Advansed user data</a>
				<li><a href="5-manual_sort.html">Manual sort</a>
				<li><a href="6-auto_sort.html">Autosort</a>
				<li><a href="7-select.html">Select and deselect example</a>
				<li><a href="8-style.html">Ð¡ustomizing the appearance</a>
			<ul>
		</div>
		<br class="clear"><br>
	</form>

	<button id="btn-length" type="button">Length</button>&nbsp;
	<button id="btn-has-item" type="button">Is there an item  `5`</button>&nbsp;
	<button id="btn-first" type="button">First</button>
	<button id="btn-last" type="button">Last</button>
	<button id="btn-add" type="button">Add</button>&nbsp;
	<button id="btn-insert" type="button">Insert</button>&nbsp;
	<button id="btn-clear" type="button">Clear</button>&nbsp;
	<button id="btn-replace" type="button">Replace</button>&nbsp;
	<button id="btn-remove" type="button">Remove</button>&nbsp;
	<button id="btn-delete" type="button">Delete</button>

	<div id="output"></div>
	<script><!--

	var max_value = 5;

	$( function() {
		$('#btn-length').on("click", function(e) {
			e.preventDefault();
			$('#output').append('<p>Length is `' + $('#user_listbox').listbox('length') + '`</p>');
		});

		$('#btn-has-item').on("click", function(e) {
			e.preventDefault();
			$('#output').append('<p>' + ($('#user_listbox').listbox('hasItem', 5) ? 'There is the `5` item' : 'There is no `5` item!') + '`.</p>');
		});

		$('#btn-first').on("click", function(e) {
			e.preventDefault();
			let f_val = $('#user_listbox').listbox('first');
			$('#output').append('<p>' + (f_val ? ('The first item value is `' + f_val + '`.') : 'There is no any item!') + '</p>');
		});

		$('#btn-last').on("click", function(e) {
			e.preventDefault();
			let l_val = $('#user_listbox').listbox('last');
			$('#output').append('<p>' + (l_val ? ('The last item value is `' + l_val + '`.') : 'There is no any item!') + '</p>');
		});

		$('#user_listbox').listbox({
			items: [
				{val: '1', text: 'Item 1'},
				{val: '2', text: 'Item 2'},
				{val: '3', text: 'Item 3', checked: true},
				{val: '4', text: 'Item 4'},
				{val: '5', text: 'Item 5'},
			],
			onChange: function(e, val) {
				console.log(val.old, val.cur);
			}
		});

		$('#btn-add').on("click", function(e) {
			e.preventDefault();
			max_value++;
			$('#user_listbox').listbox('add', {val: max_value, text: 'Item ' + max_value});
		});

		$('#btn-insert').on("click", function(e) {
			e.preventDefault();
			max_value++;
			let curValue = $('#user_listbox').listbox('val');
			let curIdx = $('#user_listbox').listbox('index');
			$('#user_listbox').listbox('insert', curIdx + 1, {val: max_value, text: 'Item ' + max_value});
		});

		$('#btn-clear').on("click", function(e) {
			e.preventDefault();
			$('#user_listbox').listbox('clear');
			max_value = 0;
		});

		$('#btn-replace').on("click", function(e) {
			e.preventDefault();
			$('#user_listbox').listbox('replace', [
				{val: '99', text: 'Item 99'},
				{val: '100', text: 'Item 100', checked: true},
			]);
			max_value = 100;
		});

		$('#btn-remove').on("click", function(e) {
			e.preventDefault();
			$('#user_listbox').listbox('remove');
		});

		$('#btn-delete').on("click", function(e) {
			e.preventDefault();
			let value = $('#user_listbox').listbox('val');
			$('#user_listbox').listbox('delete', value);
		});


	});
	//--></script>
</body>
</html>
